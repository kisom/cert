.\" Generated by scdoc 1.11.4
.\" Complete documentation for this program is not available as a GNU info page
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.\" Begin generated content:
.TH "cert-bundler" "5" "2025-11-25" "" "Cert Bundling Config Format"
.PP
.SH NAME
.PP
cert-bundler - configuration format for \fIcert-bundler\fR(1)
.PP
.SH SYNTAX
.PP
The certificate bundling configuration is a YAML file with the
following general layout:
.PP
.nf
.RS 4
config:
  hashes: bundle\&.sha256
  expiry: 1y
chains:
  chain1:
    certs:
      - root: path/to/root1\&.pem
	intermediates:
	  - path/to/root1-intermediate1\&.pem
	  - path/to/root1-intermediate2\&.pem
	  - path/to/root1-intermediate3\&.pem
      - root: /path/to/root2\&.pem
      - root: /path/to/root3\&.pem
	intermediates:
	  - path/to/root3-intermediate\&.pem
    outputs:
      include_individual: true
      manifest: true
      encoding: pem
      formats:
	- tgz
.fi
.RE
.PP
.SH CONFIG SECTION
.PP
The config section contains general configurations for the generated
bundles.\& All fields are optional.\&
.PP
.PD 0
.IP \(bu 4
hashes: path to a SHA-256 sums file for every file generated by this
tool.\&
.IP \(bu 4
expiry: any certificates expiring within this window will trigger a
warning.\& Supports "y" for year, "m" for month, "d" for day, in addition
to the standard Go time duration formats.\&
.PD
.PP
.SH CHAINS SECTION
.PP
Each named chain under the chains section defines a new set of bundles
with the base name of the certificate group.\& A chain group consists of
a list of roots with an optional set of intermediates.\&
.PP
The outputs section contains several options:
.PP
.PD 0
.IP \(bu 4
include_single: if true, a single bundled file in the appropriate
format(s) will be included.\&
.PD
.PP
.PD 0
.IP \(bu 4
include_individual: if true, each individual certificate will be
copied over.\&
.PD
.PP
.PD 0
.IP \(bu 4
manifest: if true, a MANIFEST file will be included containing
SHA-256 checksums for all files in the bundle.\&
.PD
.PP
.PD 0
.IP \(bu 4
encoding: controls what types of certificates are included:
.PD
.PP
.RS 4
.PD 0
.IP \(bu 4
pem: PEM format with .\&pem extension (default)
.IP \(bu 4
der: DER format with .\&crt extension
.IP \(bu 4
both: Both PEM and DER versions are included
.IP \(bu 4
crt: PEM format with .\&crt extension
.IP \(bu 4
pemcrt: PEM format with both .\&pem and .\&crt extensions
.PD
.PP
.RE
.PD 0
.IP \(bu 4
formats: controls the output format of the archive:
.PD
.PP
.RS 4
.PD 0
.IP \(bu 4
zip
.IP \(bu 4
tgz (as .\&tar.\&gz)
.PD
.PP
.RE
.SH NOTES
.PP
.PD 0
.IP \(bu 4
Certificate paths are relative to the YAML file.\&
.IP \(bu 4
All intermediates must be signed by their root CA.\&
.IP \(bu 4
Expired certificates do not prevent archive creation but generate
warnings.\&
